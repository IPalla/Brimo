<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="tabs/tab1"></ion-back-button>
    </ion-buttons>
    <ion-title>
      {{this.deviceName}}
    </ion-title>
  </ion-toolbar>

</ion-header>

<ion-content padding>
  
    <ion-item>
         <ion-label style="visibility: hidden;">Select command</ion-label>
              <ion-select value="All rooms" style="visibility: hidden;" #filterSelect>
                <ion-select-option value="Dining room">ON</ion-select-option>
                <ion-select-option value="Kitchen">OFF</ion-select-option>
              </ion-select>
      </ion-item>
  <ion-card *ngIf="!this.edit">
    <ion-card-content>
      <ion-card-header>
        <ion-card-title>{{this.deviceName}}</ion-card-title>
      </ion-card-header>
      <ion-list lines="inset">
        <ion-item>
          <ion-row>
            <ion-col size="4">
              <ion-text>Location:</ion-text>
            </ion-col>
            <ion-col size="8" class="information-text">
              <ion-text>{{this.device.room != null ? this.device.room.descr : ""}}</ion-text>
            </ion-col>
          </ion-row>
        </ion-item>

        <ion-item>
          <ion-row>
            <ion-col size="4">
              <ion-text>Info:</ion-text>
            </ion-col>
            <ion-col size="8" class="information-text">
              <ion-text>{{this.device.info}}</ion-text>
            </ion-col>
          </ion-row>
        </ion-item>

        <ion-item>
          <ion-row>
            <ion-col size="4">
              <ion-text>Last update:</ion-text>
            </ion-col>
            <ion-col size="8" class="information-text">
              <ion-text>{{this.device.lastupdate}}</ion-text>
            </ion-col>
          </ion-row>
        </ion-item>

        <ion-item>
          <ion-row>
            <ion-col size="4">
              <ion-text>Update freq.:</ion-text>
            </ion-col>
            <ion-col size="8" class="information-text">
              <ion-text>{{this.device.freq}}s</ion-text>
            </ion-col>
          </ion-row>
        </ion-item>
      </ion-list>

      <ion-buttons>

        <ion-tab-button style="width: 33%;" (click)="this.edit = !this.edit">
          <ion-icon name="create"></ion-icon>
          <ion-label>Edit</ion-label>
        </ion-tab-button>
        <ion-tab-button style="width: 33%;" (click)="this.selectRef.open()">
          <ion-icon name="send"></ion-icon>
          <ion-label>Commands</ion-label>
        </ion-tab-button>
        <ion-tab-button style="width: 33%;" (click)="presentAlert()">
          <ion-icon name="trash"></ion-icon>
          <ion-label>Delete</ion-label>
        </ion-tab-button>
      </ion-buttons>
    </ion-card-content>
  </ion-card>

  <ion-card *ngIf="this.edit">
    <ion-card-content>
        <ion-item>
          <ion-label style="color: #737373" position="fixed">Name</ion-label>
            <ion-input style="text-align: right;" [(ngModel)]="newName"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label style="color: #737373">Location</ion-label>
            <ion-select [(ngModel)]="newLocation" okText="Okay" cancelText="Dismiss">
              <ion-select-option value="None">None</ion-select-option>
              <ion-select-option *ngFor="let room of aRooms" value="{{room.descr}}">{{room.descr}}</ion-select-option>
            </ion-select>
        </ion-item>
      <ion-buttons>
        <ion-tab-button style="width: 50%;">
          <ion-icon name="close-circle"></ion-icon>
          <ion-label>Cancel</ion-label>
        </ion-tab-button>
        <ion-tab-button style="width: 50%;" (click)="this.edit = !this.edit">
          <ion-icon name="checkmark-circle"></ion-icon>
          <ion-label>Save</ion-label>
        </ion-tab-button>
      </ion-buttons>
      </ion-card-content>
  </ion-card>
</ion-content>